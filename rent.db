CREATE TABLE Customers (
    CustomerID INT PRIMARY KEY,
    FullName VARCHAR(100),
    JoinDate DATE
);

CREATE TABLE Vehicles (
    VehicleID INT PRIMARY KEY,
    Model VARCHAR(100),
    Type VARCHAR(50),
    Year INT,
    AvailableUnits INT
);

CREATE TABLE Rentals (
    RentalID INT PRIMARY KEY,
    CustomerID INT,
    VehicleID INT,
    RentDate DATE,
    ReturnDate DATE,
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID),
    FOREIGN KEY (VehicleID) REFERENCES Vehicles(VehicleID)
);

INSERT INTO Customers VALUES 
(1, 'John Doe', '2024-01-01'),
(2, 'Jane Smith', '2024-02-10');

INSERT INTO Vehicles VALUES 
(201, 'Toyota Corolla', 'Sedan', 2020, 3),
(202, 'Ford F-150', 'Truck', 2019, 2),
(203, 'Honda Civic', 'Sedan', 2021, 4);

INSERT INTO Rentals VALUES 
(1, 1, 201, '2024-03-01', '2024-03-05'),
(2, 2, 202, '2024-03-03', NULL);

SELECT Model, Type, AvailableUnits FROM Vehicles WHERE AvailableUnits > 0;

SELECT c.FullName, v.Model, r.RentDate, r.ReturnDate
FROM Rentals r
JOIN Customers c ON r.CustomerID = c.CustomerID
JOIN Vehicles v ON r.VehicleID = v.VehicleID;

UPDATE Vehicles SET AvailableUnits = AvailableUnits - 1 WHERE VehicleID = 203;

UPDATE Rentals SET ReturnDate = '2024-03-10' WHERE RentalID = 2;
UPDATE Vehicles SET AvailableUnits = AvailableUnits + 1 WHERE VehicleID = 202;

DELETE FROM Rentals WHERE RentalID = 1;


